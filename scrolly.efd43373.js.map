{"version":3,"sources":["scrolly.js"],"names":["getResponsiveImage","name","width","device","window","innerWidth","entry","jotera","desktop","joteraDesktop","mobile","joteraMobile","courtesy","photographer","vien","vienDesktop","vienMobile","malky","malkyDesktop","malkyMobile","david","davidDesktop","davidMobile","url","scroller","scrollama","setup","step","offset","onStepEnter","response","imgFrame","document","getElementById","newImageKey","element","getAttribute","newColor","newImage","style","backgroundImage","leftCredit","rightCredit","textContent","classList","contains","querySelectorAll","forEach","backgroundColor","opacity","setTimeout","body"],"mappings":";;;;;;;;;;;;;;;;;AAqDA,aArDA,IAAA,EAAA,EAAA,QAAA,2BACA,EAAA,EAAA,QAAA,8BAEA,EAAA,EAAA,QAAA,yBACA,EAAA,EAAA,QAAA,4BAEA,EAAA,EAAA,QAAA,0BACA,EAAA,EAAA,QAAA,6BAEA,EAAA,EAAA,QAAA,0BACA,EAAA,EAAA,QAAA,6BA2CA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAzCA,SAASA,EAAmBC,GACpBC,IACAC,EADQC,OAAOC,YACG,IAAM,SAAW,UA6BnCC,EA3BW,CACfC,OAAQ,CACNC,QAASC,EADH,QAENC,OAAQC,EAFF,QAGNC,SAAU,6BACVC,aAAc,MAEhBC,KAAM,CACJN,QAASO,EADL,QAEJL,OAAQM,EAFJ,QAGJJ,SAAU,0BACVC,aAAc,6BAEhBI,MAAO,CACLT,QAASU,EADJ,QAELR,OAAQS,EAFH,QAGLP,SAAU,6BACVC,aAAc,MAEhBO,MAAO,CACLZ,QAASa,EADJ,QAELX,OAAQY,EAFH,QAGLV,SAAU,2BACVC,aAAc,8BAIKZ,GAChB,MAAA,CACLsB,IAAKjB,GAASA,EAAMH,GACpBS,SAAUN,GAASA,EAAMM,SACzBC,aAAcP,GAASA,EAAMO,cAIjC,IAAMW,EAAWC,YAEjBD,EACGE,MAAM,CACLC,KAAM,6DACNC,OAAQ,KAETC,YAAY,SAAAC,GACLC,IAAAA,EAAWC,SAASC,eAAe,oBACnCC,EAAcJ,EAASK,QAAQC,aAAa,cAC5CC,EAAWP,EAASK,QAAQC,aAAa,cAEGpC,EAAAA,EAAmBkC,GAAxDI,EAALf,EAAAA,IAAeX,EAAAA,EAAAA,SAAUC,EAAAA,EAAAA,aAE7ByB,GAAYP,IACdA,EAASQ,MAAMC,gBAA0BF,QAAAA,OAAAA,EAAzC,OAIIG,IAAAA,EAAaT,SAASC,eAAe,qBACrCS,EAAcV,SAASC,eAAe,sBACxCQ,IAAYA,EAAWE,YAAc9B,GAAgB,IACrD6B,IAAaA,EAAYC,YAAc/B,GAAY,IAGnDR,OAAOC,YAAc,KAAOyB,EAASK,QAAQS,UAAUC,SAAS,UAClEb,SAASc,iBAAiB,SAASC,QAAQ,SAAApB,GACzCA,EAAKY,MAAMS,gBAAkB,gBAE/BlB,EAASK,QAAQI,MAAMS,gBAAkBX,EAAcA,GAAAA,OAAAA,EAAe,MAAA,sBAKtEP,EAASK,QAAQS,UAAUC,SAAS,kBACpCf,EAASK,QAAQS,UAAUC,SAAS,kBACpCf,EAASK,QAAQS,UAAUC,SAAS,uBAEpCb,SAASC,eAAe,gBAAgBM,MAAMU,QAAU,GACxDC,WAAW,WACTlB,SAASmB,KAAKZ,MAAMS,gBAAkBX,GAAY,UAClDL,SAASC,eAAe,gBAAgBM,MAAMU,QAAU,GACvD,MACMZ,IACTL,SAASmB,KAAKZ,MAAMS,gBAAkBX","file":"scrolly.efd43373.js","sourceRoot":"../src","sourcesContent":["import joteraDesktop from './images/jotera_v2.jpg';\nimport joteraMobile from './images/jotera-phone.jpg';\n\nimport vienDesktop from './images/vien_v2.jpg';\nimport vienMobile from './images/vien-phone.jpg';\n\nimport malkyDesktop from './images/malky_v2.jpg';\nimport malkyMobile from './images/malky-phone.jpg';\n\nimport davidDesktop from './images/david_v2.jpg';\nimport davidMobile from './images/david-phone.jpg';\n\nfunction getResponsiveImage(name) {\n  const width = window.innerWidth;\n  const device = width <= 500 ? 'mobile' : 'desktop';\n\n  const imageMap = {\n    jotera: {\n      desktop: joteraDesktop,\n      mobile: joteraMobile,\n      courtesy: 'Courtesy of Jotera Webster',\n      photographer: null,\n    },\n    vien: {\n      desktop: vienDesktop,\n      mobile: vienMobile,\n      courtesy: 'Courtesy of Vien Nguyen',\n      photographer: 'Photo by Morgan Desfosses',\n    },\n    malky: {\n      desktop: malkyDesktop,\n      mobile: malkyMobile,\n      courtesy: 'Courtesy of Malky Schwartz',\n      photographer: null,\n    },\n    david: {\n      desktop: davidDesktop,\n      mobile: davidMobile,\n      courtesy: 'Courtesy of David Benson',\n      photographer: 'Photo by Morgan Desfosses',\n    },\n  };\n\n  const entry = imageMap[name];\n  return {\n    url: entry && entry[device],\n    courtesy: entry && entry.courtesy,\n    photographer: entry && entry.photographer,\n  };\n}\n\nconst scroller = scrollama();\n\nscroller\n  .setup({\n    step: \".step, .title-section, .intro-section, .concluding-section\",\n    offset: 0.5,\n  })\n  .onStepEnter(response => {\n    const imgFrame = document.getElementById(\"sticky-img-frame\");\n    const newImageKey = response.element.getAttribute(\"data-image\");\n    const newColor = response.element.getAttribute(\"data-color\");\n\n    const { url: newImage, courtesy, photographer } = getResponsiveImage(newImageKey);\n\n    if (newImage && imgFrame) {\n      imgFrame.style.backgroundImage = `url('${newImage}')`;\n    }\n\n    // Set photo credits\n    const leftCredit = document.getElementById(\"photo-credit-left\");\n    const rightCredit = document.getElementById(\"photo-credit-right\");\n    if (leftCredit) leftCredit.textContent = photographer || \"\";\n    if (rightCredit) rightCredit.textContent = courtesy || \"\";\n\n    // For mobile: semi-transparent text overlay\n    if (window.innerWidth <= 500 && response.element.classList.contains(\"step\")) {\n      document.querySelectorAll(\".step\").forEach(step => {\n        step.style.backgroundColor = \"transparent\";\n      });\n      response.element.style.backgroundColor = newColor ? `${newColor}80` : \"rgba(0, 0, 0, 0.5)\";\n    }\n\n    // Background color transition for section headers\n    if (\n      response.element.classList.contains(\"title-section\") ||\n      response.element.classList.contains(\"intro-section\") ||\n      response.element.classList.contains(\"concluding-section\")\n    ) {\n      document.getElementById(\"fade-overlay\").style.opacity = 0.4;\n      setTimeout(() => {\n        document.body.style.backgroundColor = newColor || \"#264653\";\n        document.getElementById(\"fade-overlay\").style.opacity = 0;\n      }, 200);\n    } else if (newColor) {\n      document.body.style.backgroundColor = newColor;\n    }\n  });\n"]}